<div class="container-fluid">

  <mat-card class="mt-10">
    <mat-card-header >
      <h3>{{ 'axon.bpm-config.schemas' | translate }}</h3>
    </mat-card-header>
    <mat-card-content>
      <div class="row">
        <div class="col-xs-12 col-md-12 col-lg-4">
          <form>
            <mat-form-field>
              <input matInput placeholder="Filter" [value]="filter" [formControl]="filterControl">
              <button mat-button *ngIf="filter" matSuffix mat-icon-button aria-label="Clear" (click)="clearFilter()">
                <mat-icon fontSet="fas" fontIcon="fa-times"></mat-icon>
              </button>
              <button mat-button matSuffix mat-icon-button aria-label="Refresh" (click)="$event.stopPropagation(); refresh()">
                <mat-icon fontSet="fas" fontIcon="fa-sync"></mat-icon>
              </button>
            </mat-form-field>
          </form>
        </div>

        <div class="col-xs-12 col-md-12 col-lg-8">
          <div class="button-row">
            <a mat-stroked-button routerLink="../schema/create/new">Create</a>
            <a mat-stroked-button
               [routerLink]="['../schema/view', firstSelected()]"
               [disabled]="selection.selected.length != 1">View</a>
            <a mat-stroked-button
               [routerLink]="['../schema/update', firstSelected()]"
               [disabled]="selection.selected.length != 1">Update</a>
            <button mat-stroked-button color="warn"
                    (click)="deleteSelected()"
                    [disabled]="selection.selected.length != 1">Delete
            </button>
            <button mat-stroked-button [disabled]="selection.selected.length != 1">Deploy</button>
          </div>
        </div>
      </div>

      <table mat-table style="width: 100%;" [dataSource]="schemas">

        <!-- Checkbox Column -->
        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)="$event ? masterToggle() : null"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="selection.hasValue() && !isAllSelected()">
            </mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let row">
            <mat-checkbox (click)="$event.stopPropagation()"
                          (change)="$event ? selection.toggle(row) : null"
                          [checked]="selection.isSelected(row)">
            </mat-checkbox>
          </td>
        </ng-container>

        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef> Id</th>
          <td mat-cell *matCellDef="let element"> {{element.id}}</td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name</th>
          <td mat-cell *matCellDef="let element"> {{element.name}}</td>
        </ng-container>

        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef> Description</th>
          <td mat-cell *matCellDef="let element"> {{element.description}}</td>
        </ng-container>

        <ng-container matColumnDef="notation">
          <th mat-header-cell *matHeaderCellDef> Notation</th>
          <td mat-cell *matCellDef="let element"> {{element.notation}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"
            (click)="selection.clear(); selection.toggle(row)">
        </tr>
      </table>

    </mat-card-content>
  </mat-card>




</div>




